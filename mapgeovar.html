<!doctype html>
{{-- <html lang="{{ app()->getLocale() }}"> --}}

<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script src='https://api.mapbox.com/mapbox-gl-js/v0.44.0/mapbox-gl.js'></script>
<link href='https://api.mapbox.com/mapbox-gl-js/v0.44.0/mapbox-gl.css' rel='stylesheet' />
        <title>Map</title>

        <!-- Fonts -->
        <link href="https://fonts.googleapis.com/css?family=Raleway:100,600" rel="stylesheet" type="text/css">

        <script src='https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.js'></script>
<link href='https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.css' rel='stylesheet' />

    </head>


<style>
        body { margin:0; padding:0; }
        #map { position:absolute; top:0; bottom:0; width:100%; }
    </style>
    <body>

        

        <div id='map'></div>
    </body>
</html>

<script>

L.mapbox.accessToken = 'pk.eyJ1IjoiYWNyaWNhYSIsImEiOiJjamRhb2Y3dmo0MHoyMzNxZnluc21mM3ZiIn0.x9DNctWU9spRhHoz_7I4AA';
var map = L.mapbox.map('map', 'mapbox.streets')
    .setView([39.938507, -75.180097], 15);

var featureLayer = L.mapbox.featureLayer()
    .loadURL('https://www.rideindego.com/stations/json/')
    .addTo(map);



    // Generate a GeoJSON line. You could also load GeoJSON via AJAX
// or generate it some other way.


var line_points = [
[39.938507, -75.180097],
[39.932590, -75.181316],
[39.932200, -75.181690],
[39.932791, -75.186450],
[39.939118, -75.185090],
[39.938484, -75.180035]
];

// var geojson = { type: 'LineString', coordinates: [] };

//     geojson.coordinates.push(start.slice());
// }


var geojson = {
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {},
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            -75.18008708953857,
            39.938517394618415
          ],
          [
            -75.18013000488281,
            39.93817189499188
          ],
          [
            -75.18023729324341,
            39.93767832107088
          ],
          [
            -75.18030166625975,
            39.93734926981249
          ],
          [
            -75.180344581604,
            39.93708602766659
          ],
          [
            -75.18040895462036,
            39.936756973560286
          ],
          [
            -75.18049478530884,
            39.93634565370247
          ],
          [
            -75.18064498901367,
            39.93575334876414
          ],
          [
            -75.1807951927185,
            39.935243304292904
          ],
          [
            -75.18083810806274,
            39.934947147694324
          ],
          [
            -75.1809024810791,
            39.934502910393526
          ],
          [
            -75.18098831176758,
            39.93409157698847
          ],
          [
            -75.18107414245605,
            39.93384477575881
          ],
          [
            -75.18113851547241,
            39.933565066622684
          ],
          [
            -75.18122434616089,
            39.93333471706403
          ],
          [
            -75.18124580383301,
            39.93313727396817
          ],
          [
            -75.18126726150511,
            39.932874015621
          ],
          [
            -75.1813530921936,
            39.93261075626125
          ],
          [
            -75.18150329589844,
            39.93242976486409
          ],
          [
            -75.18165349960327,
            39.932265226814984
          ],
          [
            -75.18186807632446,
            39.93223231915768
          ],
          [
            -75.18221139907837,
            39.932265226814984
          ],
          [
            -75.1830267906189,
            39.93236394969191
          ],
          [
            -75.18334865570068,
            39.932396857285916
          ],
          [
            -75.18375635147095,
            39.93246267242643
          ],
          [
            -75.18418550491333,
            39.93251203374031
          ],
          [
            -75.18472194671631,
            39.93256139501859
          ],
          [
            -75.18517255783081,
            39.93266011746834
          ],
          [
            -75.18577337265015,
            39.93269302491995
          ],
          [
            -75.18637418746948,
            39.93277529347977
          ],
          [
            -75.18630981445312,
            39.93328535634347
          ],
          [
            -75.18613815307617,
            39.93397640319203
          ],
          [
            -75.18600940704346,
            39.934535816959134
          ],
          [
            -75.18598794937134,
            39.93481552212804
          ],
          [
            -75.1859450340271,
            39.935226851182165
          ],
          [
            -75.1858377456665,
            39.93539138211164
          ],
          [
            -75.18579483032227,
            39.93578625472855
          ],
          [
            -75.18570899963379,
            39.93600014311142
          ],
          [
            -75.18570899963379,
            39.936296295153404
          ],
          [
            -75.18562316894531,
            39.93652663474448
          ],
          [
            -75.18558025360107,
            39.93688859539268
          ],
          [
            -75.18547296524048,
            39.93718474358997
          ],
          [
            -75.18545150756836,
            39.93751379563947
          ],
          [
            -75.18536567687988,
            39.93780994113124
          ],
          [
            -75.1852798461914,
            39.9380402756277
          ],
          [
            -75.18517255783081,
            39.938517394618415
          ],
          [
            -75.18517255783081,
            39.9387806312583
          ],
          [
            -75.18508672714233,
            39.939109675634185
          ],
          [
            -75.18485069274902,
            39.93909322345296
          ],
          [
            -75.18450736999512,
            39.93906031907867
          ],
          [
            -75.18414258956909,
            39.93902741468856
          ],
          [
            -75.18375635147095,
            39.93896160586083
          ],
          [
            -75.1833701133728,
            39.93891224919853
          ],
          [
            -75.18313407897949,
            39.93886289250063
          ],
          [
            -75.1828122138977,
            39.938829988015556
          ],
          [
            -75.18249034881592,
            39.938797083514686
          ],
          [
            -75.18223285675049,
            39.9387806312583
          ],
          [
            -75.18176078796387,
            39.938681917637005
          ],
          [
            -75.18143892288208,
            39.938665465352955
          ],
          [
            -75.1810097694397,
            39.93861610847705
          ],
          [
            -75.18064498901367,
            39.938566751565546
          ],
          [
            -75.18036603927612,
            39.938550299253784
          ],
          [
            -75.18021583557129,
            39.938533846938086
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {},
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            -75.18013000488281,
            39.938468037635715
          ],
          [
            -75.1800012588501,
            39.93897805807371
          ],
          [
            -75.17995834350585,
            39.93919193648093
          ],
          [
            -75.17991542816162,
            39.93937290999572
          ],
          [
            -75.17991542816162,
            39.93945517052602
          ],
          [
            -75.17972230911255,
            39.93950452679673
          ],
          [
            -75.17937898635864,
            39.939405814219704
          ],
          [
            -75.1788854598999,
            39.93935645787777
          ],
          [
            -75.17847776412964,
            39.93932355363005
          ],
          [
            -75.17804861068726,
            39.939274197228805
          ],
          [
            -75.1776623725891,
            39.93924129294154
          ],
          [
            -75.17727613449097,
            39.9391590321541
          ],
          [
            -75.17704010009766,
            39.939142579984754
          ],
          [
            -75.17673969268799,
            39.93912612781144
          ],
          [
            -75.1764178276062,
            39.939076771267786
          ],
          [
            -75.17611742019653,
            39.93904386688559
          ],
          [
            -75.17566680908203,
            39.93897805807371
          ],
          [
            -75.17536640167235,
            39.938945153644035
          ],
          [
            -75.17500162124634,
            39.93891224919853
          ],
          [
            -75.17463684082031,
            39.938829988015556
          ],
          [
            -75.17427206039429,
            39.938797083514686
          ],
          [
            -75.17390727996826,
            39.938764178997985
          ],
          [
            -75.17352104187012,
            39.93869836991711
          ],
          [
            -75.17334938049316,
            39.938681917637005
          ],
          [
            -75.17319917678833,
            39.938681917637005
          ],
          [
            -75.17319917678833,
            39.938517394618415
          ],
          [
            -75.17326354980469,
            39.93835287120429
          ],
          [
            -75.17332792282104,
            39.93817189499188
          ],
          [
            -75.17332792282104,
            39.93805672806205
          ],
          [
            -75.17337083816527,
            39.93790865601035
          ],
          [
            -75.17341375350952,
            39.937727678623176
          ],
          [
            -75.17343521118164,
            39.93754670075739
          ],
          [
            -75.17345666885376,
            39.937398627602114
          ],
          [
            -75.17352104187012,
            39.93718474358997
          ],
          [
            -75.17354249954224,
            39.93700376428835
          ],
          [
            -75.17358541488647,
            39.93687214267748
          ],
          [
            -75.1736068725586,
            39.936773426303176
          ],
          [
            -75.1739501953125,
            39.93680633177709
          ],
          [
            -75.17418622970581,
            39.93683923723518
          ],
          [
            -75.17446517944336,
            39.93683923723518
          ],
          [
            -75.17472267150879,
            39.93690504810394
          ],
          [
            -75.17517328262329,
            39.93700376428835
          ],
          [
            -75.17555952072144,
            39.93702021697192
          ],
          [
            -75.1759672164917,
            39.93713538564607
          ],
          [
            -75.17626762390137,
            39.93718474358997
          ],
          [
            -75.17639636993408,
            39.93725055412644
          ],
          [
            -75.1766538619995,
            39.93726700675068
          ],
          [
            -75.17682552337646,
            39.93729991198725
          ],
          [
            -75.17704010009766,
            39.93731636459964
          ],
          [
            -75.17731904983519,
            39.937398627602114
          ],
          [
            -75.17761945724487,
            39.93741508019073
          ],
          [
            -75.17789840698242,
            39.937431532775406
          ],
          [
            -75.17819881439209,
            39.93748089050571
          ],
          [
            -75.17845630645752,
            39.93754670075739
          ],
          [
            -75.17864942550658,
            39.93757960585949
          ],
          [
            -75.17897129058836,
            39.93766186854554
          ],
          [
            -75.17937898635864,
            39.93769477359227
          ],
          [
            -75.17970085144043,
            39.93779348863753
          ],
          [
            -75.17993688583374,
            39.93782639362098
          ],
          [
            -75.18015146255493,
            39.937859298588606
          ],
          [
            -75.18017292022705,
            39.93812253775998
          ],
          [
            -75.18013000488281,
            39.93833641884111
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {},
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            -75.18166422843933,
            39.932224092240894
          ],
          [
            -75.1818573474884,
            39.93206778063393
          ],
          [
            -75.18198609352112,
            39.931936149530145
          ],
          [
            -75.1820719242096,
            39.931878560842655
          ],
          [
            -75.18220067024231,
            39.93174692937497
          ],
          [
            -75.18226504325867,
            39.931615297654176
          ],
          [
            -75.18238306045532,
            39.93148366568022
          ],
          [
            -75.1825976371765,
            39.93128621724464
          ],
          [
            -75.18265128135681,
            39.93117926577091
          ],
          [
            -75.18279075622559,
            39.931080541185274
          ],
          [
            -75.18294095993042,
            39.93091599989282
          ],
          [
            -75.18301606178284,
            39.93078436657407
          ],
          [
            -75.18312335014343,
            39.930693868520585
          ],
          [
            -75.18328428268433,
            39.93058691612131
          ],
          [
            -75.18339157104492,
            39.930471736427506
          ],
          [
            -75.18349885940552,
            39.930381237960695
          ],
          [
            -75.18357396125793,
            39.93025783076769
          ],
          [
            -75.18358469009398,
            39.93017555918209
          ],
          [
            -75.18361687660217,
            39.92999456134567
          ],
          [
            -75.18365979194641,
            39.929788881405194
          ],
          [
            -75.18368124961853,
            39.92964901869265
          ],
          [
            -75.18372416496275,
            39.92950915569436
          ],
          [
            -75.1835310459137,
            39.929476246712035
          ],
          [
            -75.18321990966797,
            39.929451564964936
          ],
          [
            -75.18305897712708,
            39.92944333771391
          ],
          [
            -75.18280148506165,
            39.92941042869996
          ],
          [
            -75.18244743347168,
            39.929336383360734
          ],
          [
            -75.18220067024231,
            39.929336383360734
          ],
          [
            -75.18205046653748,
            39.92927879248597
          ],
          [
            -75.1818573474884,
            39.92926233794141
          ],
          [
            -75.18169641494751,
            39.929254110667664
          ],
          [
            -75.18143892288208,
            39.92921297428405
          ],
          [
            -75.18112778663635,
            39.929188292441985
          ],
          [
            -75.18082737922668,
            39.92915538330544
          ],
          [
            -75.18052697181702,
            39.92911424686248
          ],
          [
            -75.180344581604,
            39.9290566558008
          ],
          [
            -75.1800549030304,
            39.92904020120289
          ],
          [
            -75.1798403263092,
            39.92900729199513
          ],
          [
            -75.17959356307983,
            39.928974382771536
          ],
          [
            -75.17931461334227,
            39.92894147353215
          ],
          [
            -75.1789927482605,
            39.92890856427693
          ],
          [
            -75.17876744270325,
            39.92887565500589
          ],
          [
            -75.17860651016235,
            39.928859200364435
          ],
          [
            -75.17834901809692,
            39.928834518394844
          ],
          [
            -75.17798423767088,
            39.92877692709783
          ],
          [
            -75.17756581306458,
            39.92875224509859
          ],
          [
            -75.17717957496642,
            39.928678199047404
          ],
          [
            -75.17693281173706,
            39.92862060761889
          ],
          [
            -75.17664313316345,
            39.92859592556327
          ],
          [
            -75.17627835273743,
            39.92854656142534
          ],
          [
            -75.17614960670471,
            39.92853833406554
          ],
          [
            -75.17593502998352,
            39.928521879343
          ],
          [
            -75.17583847045898,
            39.92849719725179
          ],
          [
            -75.17567753791809,
            39.928480742519376
          ],
          [
            -75.17552733421324,
            39.928456060413325
          ],
          [
            -75.17542004585266,
            39.928456060413325
          ],
          [
            -75.17537713050842,
            39.92858769820943
          ],
          [
            -75.17534494400023,
            39.928686426390385
          ],
          [
            -75.17531275749207,
            39.928834518394844
          ],
          [
            -75.175302028656,
            39.92894147353215
          ],
          [
            -75.17525911331177,
            39.92910601957093
          ],
          [
            -75.17522692680359,
            39.92926233794141
          ],
          [
            -75.17519474029541,
            39.92932815609587
          ],
          [
            -75.17519474029541,
            39.92949270120517
          ],
          [
            -75.17518401145934,
            39.92962433700783
          ],
          [
            -75.175119638443,
            39.92975597255737
          ],
          [
            -75.17509818077087,
            39.929895835051354
          ],
          [
            -75.1750659942627,
            39.930093287497584
          ],
          [
            -75.1750123500824,
            39.93027428507294
          ],
          [
            -75.1749587059021,
            39.930496417806786
          ],
          [
            -75.17493724822998,
            39.93064450589553
          ],
          [
            -75.17489433288574,
            39.93075145820483
          ],
          [
            -75.17488360404968,
            39.930841956182164
          ],
          [
            -75.17487287521362,
            39.930965362322084
          ],
          [
            -75.17482995986938,
            39.931129903495886
          ],
          [
            -75.1747977733612,
            39.93126153615016
          ],
          [
            -75.1747977733612,
            39.93132735238235
          ],
          [
            -75.1750123500824,
            39.93135203345314
          ],
          [
            -75.1754629611969,
            39.93139316855128
          ],
          [
            -75.17582774162292,
            39.931426076612006
          ],
          [
            -75.17623543739319,
            39.931491892686005
          ],
          [
            -75.17650365829468,
            39.93154125469996
          ],
          [
            -75.17684698104858,
            39.931565935693605
          ],
          [
            -75.17717957496642,
            39.931615297654176
          ],
          [
            -75.17754435539246,
            39.93164820560811
          ],
          [
            -75.17784476280212,
            39.93168934052827
          ],
          [
            -75.17811298370361,
            39.93172224844661
          ],
          [
            -75.17852067947388,
            39.93177983726562
          ],
          [
            -75.17887473106384,
            39.931845652999456
          ],
          [
            -75.17918586730957,
            39.93188678780096
          ],
          [
            -75.17958283424377,
            39.93191146867001
          ],
          [
            -75.17976522445679,
            39.93195260343195
          ],
          [
            -75.18009781837463,
            39.93199373816921
          ],
          [
            -75.18037676811218,
            39.93204309982125
          ],
          [
            -75.18082737922668,
            39.932117142232585
          ],
          [
            -75.18099904060364,
            39.93215827687094
          ],
          [
            -75.18127799034119,
            39.93217473071937
          ],
          [
            -75.18148183822632,
            39.93219941148457
          ],
          [
            -75.1815676689148,
            39.932224092240894
          ]
        ]
      }
    }
  ]
};

// Add this generated geojson object to the map.
L.geoJson(geojson).addTo(map);


 paths = geojson.features; 

 paths.forEach(function(path) {

    var raw = [];
    for (var i = 0; i < path.geometry.coordinates.length; i++) {
    var tmp = [];
    tmp[0] = path.geometry.coordinates[i][1];
    tmp[1] = path.geometry.coordinates[i][0];
    raw.push(tmp);
  }

  var coords = L.polyline(raw),
    animatedMarker = L.animatedMarker(coords.getLatLngs(), {
        distance: 100,
        interval: 2500,
        autoStart: true
});

 }); 

// for (var i = 0; i < paths.features[0].geometry.coordinates.length; i++) {
//     var tmp = [];
//     tmp[0] = ride.features[0].geometry.coordinates[i][1];
//     tmp[1] = ride.features[0].geometry.coordinates[i][0];
//     raw.push(tmp);
// }

// var coords = L.polyline(raw),
//     animatedMarker = L.animatedMarker(coords.getLatLngs(), {
//         distance: 100,
//         interval: 2500,
//         autoStart: false
// });

// map.addLayer(animatedMarker);


</script>